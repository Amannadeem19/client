{"ast":null,"code":"import _slicedToArray from\"C:/Users/Toshiba/OneDrive/Documents/WEB DEVELOPMENT/BlooduApp/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import React,{useState,useEffect}from\"react\";import{toast}from\"react-toastify\";import{Avatar,Box,AppBar,Toolbar,IconButton,Typography,Divider}from\"@mui/material\";import{Link,useHistory}from'react-router-dom';import HomeRoundedIcon from'@mui/icons-material/HomeRounded';import Main from'../Main';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function getWindowDimensions(){var _window=window,width=_window.innerWidth,height=_window.innerHeight;return{width:width,height:height};}function PersonInfo(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),requestList=_useState2[0],setRequestList=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),requestList2=_useState4[0],setRequestList2=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),requestList3=_useState6[0],setRequestList3=_useState6[1];var navigate=useHistory();var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),profile=_useState8[0],setProfile=_useState8[1];var _useState9=useState(getWindowDimensions()),_useState10=_slicedToArray(_useState9,2),windowDimensions=_useState10[0],setWindowDimensions=_useState10[1];useEffect(function(){function handleResize(){setWindowDimensions(getWindowDimensions());console.log(windowDimensions.width);}window.addEventListener(\"resize\",handleResize);return function(){return window.removeEventListener(\"resize\",handleResize);};},[]);useEffect(function(){axios.get('http://localhost:3005/api/Person/personinfo',{headers:{accessToken2:sessionStorage.getItem(\"accessToken2\")}}).then(function(response){if(response.data.error){toast.error('You are not authenticated to use this feature');}else{setRequestList(response.data);setProfile(response.data[0].file);//    console.log(requestList[0].loc_id);\nvar show2=function show2(){axios.get('http://localhost:3005/api/Person/personcontact',{headers:{accessToken2:sessionStorage.getItem(\"accessToken2\")}}).then(function(response){if(response.data.error){toast.error('You are not authenticated to use this feature');}else{setRequestList2(response.data);var show3=function show3(){console.log(requestList[0].loc_id);axios.get(\"http://localhost:3005/api/Person/personLoc/\".concat(requestList[0].loc_id),{headers:{accessToken2:sessionStorage.getItem(\"accessToken2\")}}).then(function(response){if(response.data.error){toast.error('You are not authenticated to use this feature');}else{setRequestList3(response.data);}});};// show3 ends\nshow3();}});};// show2 ends\nshow2();}});},[]);return/*#__PURE__*/_jsxs(Box,{sx:{flexGrow:1},children:[/*#__PURE__*/_jsx(AppBar,{style:{backgroundColor:'crimson'},position:\"static\",children:/*#__PURE__*/_jsxs(Toolbar,{children:[/*#__PURE__*/_jsx(IconButton,{size:\"large\",edge:\"false\",color:\"inherit\",\"aria-label\":\"menu\",sx:{mr:2},onClick:function onClick(){navigate.push('/user');},children:/*#__PURE__*/_jsx(HomeRoundedIcon,{style:{height:'50px',width:'50px'}})}),/*#__PURE__*/_jsx(Typography,{variant:\"h1\",children:\"Personal Details\"})]})}),/*#__PURE__*/_jsx(\"div\",{children:requestList.map(function(val,key){return/*#__PURE__*/_jsxs(\"div\",{className:\"requests\",children:[/*#__PURE__*/_jsx(Avatar,{style:{height:'100px',width:'100px'},alt:\"Profile\",src:profile}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"main\",children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h4\",children:[\"Cnic : \",val.cnic]}),/*#__PURE__*/_jsxs(Typography,{variant:\"h4\",id:\"reqid\",children:[\"Blood Group: \",val.blood_group]})]}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",children:[\"Name: \",val.fname.toUpperCase()+\" \"+val.lname.toUpperCase()]}),/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",children:[\"Weight: \",val.weight]}),/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",children:[\"no. of time donate: \",val.frequencyDonation]}),/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",children:[\"IsDiabetes?: \",val.IsDiabetes]}),/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",children:[\"IsHypetitus?: \",val.IsHypetitus]}),requestList2.map(function(val2,key){return/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",children:[\"ContactNo\",\": \"+val2.contactno]});}),requestList3.map(function(val3,key){return/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",children:[\"Location: \",\"Postal Code: \"+val3.postalCode+\" Area \"+val3.Area+\" , Block \"+val3.Block+\" , \"+val3.City]});})]})]});})})]});}export default PersonInfo;","map":{"version":3,"names":["axios","React","useState","useEffect","toast","Avatar","Box","AppBar","Toolbar","IconButton","Typography","Divider","Link","useHistory","HomeRoundedIcon","Main","getWindowDimensions","window","width","innerWidth","height","innerHeight","PersonInfo","requestList","setRequestList","requestList2","setRequestList2","requestList3","setRequestList3","navigate","profile","setProfile","windowDimensions","setWindowDimensions","handleResize","console","log","addEventListener","removeEventListener","get","headers","accessToken2","sessionStorage","getItem","then","response","data","error","file","show2","show3","loc_id","flexGrow","backgroundColor","mr","push","map","val","key","cnic","blood_group","fname","toUpperCase","lname","weight","frequencyDonation","IsDiabetes","IsHypetitus","val2","contactno","val3","postalCode","Area","Block","City"],"sources":["C:/Users/Toshiba/OneDrive/Documents/WEB DEVELOPMENT/BlooduApp/client/src/components/PersonInfo/PersonInfo.js"],"sourcesContent":["import axios from \"axios\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport {Avatar,Box, AppBar, Toolbar, IconButton,  Typography, Divider } from \"@mui/material\";\r\nimport {Link,useHistory} from 'react-router-dom';\r\nimport HomeRoundedIcon from '@mui/icons-material/HomeRounded'\r\nimport Main from '../Main';\r\nfunction getWindowDimensions() {\r\n    const { innerWidth: width, innerHeight: height } = window;\r\n    return {\r\n        width,\r\n        height,\r\n    };\r\n  }\r\nfunction PersonInfo (){\r\n\r\n    const [requestList, setRequestList] = useState([])\r\n    const [requestList2, setRequestList2] = useState([])\r\n    const [requestList3, setRequestList3] = useState([])\r\n    const navigate  = useHistory();\r\n    const [profile, setProfile] = useState(\"\");\r\n    const [windowDimensions, setWindowDimensions] = useState(\r\n        getWindowDimensions()\r\n      );\r\n    \r\n      useEffect(() => {\r\n        function handleResize() {\r\n            setWindowDimensions(getWindowDimensions());\r\n            console.log(windowDimensions.width);\r\n        }\r\n      \r\n        window.addEventListener(\"resize\", handleResize);\r\n        return () => window.removeEventListener(\"resize\", handleResize);\r\n      }, []);\r\n\r\n    useEffect(()=>{\r\n        axios.get('http://localhost:3005/api/Person/personinfo', {\r\n            headers:{\r\n                accessToken2 : sessionStorage.getItem(\"accessToken2\"),\r\n            }\r\n        }).then((response)=>{\r\n            if(response.data.error){\r\n                toast.error('You are not authenticated to use this feature')\r\n                \r\n            }else{\r\n            \r\n           setRequestList(response.data);\r\n           setProfile(response.data[0].file);\r\n        //    console.log(requestList[0].loc_id);\r\n                const show2 = ()=>{\r\n                        axios.get('http://localhost:3005/api/Person/personcontact', {\r\n                            headers:{\r\n                                accessToken2 : sessionStorage.getItem(\"accessToken2\"),\r\n                            }\r\n                        }).then((response)=>{\r\n                            if(response.data.error){\r\n                                toast.error('You are not authenticated to use this feature')\r\n                                \r\n                            }else{\r\n                            \r\n                           setRequestList2(response.data);\r\n\r\n                           const show3= ()=>{\r\n                            console.log(requestList[0].loc_id);\r\n                            axios.get(`http://localhost:3005/api/Person/personLoc/${requestList[0].loc_id}`, {\r\n                                headers:{\r\n                                    accessToken2 : sessionStorage.getItem(\"accessToken2\"),\r\n                                }\r\n                            }).then((response)=>{\r\n                                if(response.data.error){\r\n                                    toast.error('You are not authenticated to use this feature')\r\n                                    \r\n                                }else{\r\n                                \r\n                               setRequestList3(response.data);\r\n                                }\r\n                            })\r\n                    }// show3 ends\r\n                        show3()\r\n                            }\r\n                        })\r\n                }// show2 ends\r\n                show2()\r\n\r\n        }\r\n        })\r\n    \r\n    }, [])\r\n    return (\r\n        <Box  sx={{ flexGrow: 1 }}>\r\n   \r\n    <AppBar style={{backgroundColor:'crimson'}} position=\"static\">\r\n    \r\n      <Toolbar>\r\n      <IconButton\r\n          size=\"large\"\r\n          edge=\"false\"\r\n          color=\"inherit\"\r\n          aria-label=\"menu\"\r\n          sx={{ mr: 2 }}\r\n          onClick={()=>{\r\n            navigate.push('/user');\r\n          }}\r\n       \r\n        >\r\n          <HomeRoundedIcon style={{height:'50px', width:'50px'}}/>\r\n        </IconButton>\r\n        <Typography variant=\"h1\" >Personal Details</Typography>\r\n        \r\n        </Toolbar>\r\n       \r\n    </AppBar> \r\n    \r\n\r\n        <div>\r\n           \r\n        {\r\n            requestList.map((val,key)=>{\r\n                return (\r\n                    \r\n                    <div className=\"requests\">\r\n                      <Avatar style={{height:'100px', width:'100px'}} alt='Profile' src={profile}/>\r\n                        \r\n                        <div>\r\n                            <div className=\"main\">\r\n                            <Typography variant=\"h4\">Cnic : {val.cnic}</Typography>\r\n                            <Typography variant=\"h4\" id=\"reqid\">Blood Group: {val.blood_group}</Typography>\r\n                            </div>\r\n                            <Divider/>\r\n                            <Typography variant=\"h6\">Name: {val.fname.toUpperCase() + \" \" + val.lname.toUpperCase()}</Typography>\r\n                            <Typography variant=\"h6\">Weight: {val.weight}</Typography>\r\n                            <Typography variant=\"h6\">no. of time donate: {val.frequencyDonation}</Typography>\r\n                            <Typography variant=\"h6\">IsDiabetes?: {val.IsDiabetes}</Typography>\r\n                            <Typography variant=\"h6\">IsHypetitus?: {val.IsHypetitus}</Typography>\r\n                            {\r\n                                requestList2.map((val2,key)=>{\r\n                                    return(\r\n                                            <Typography variant=\"h6\">ContactNo{\": \" +val2.contactno}</Typography>\r\n                                    );\r\n                                })\r\n                            }\r\n                            {\r\n                                requestList3.map((val3,key)=>{\r\n                                    return(\r\n                                            <Typography variant=\"h6\">Location: {\"Postal Code: \" + val3.postalCode+\" Area \" + val3.Area + \" , Block \" + val3.Block + \" , \" + val3.City}</Typography>\r\n                                    );\r\n                                })\r\n                            }\r\n                        </div>\r\n\r\n                    </div>\r\n                );\r\n            })\r\n        }\r\n       \r\n        </div>\r\n        </Box>\r\n    );\r\n\r\n\r\n\r\n\r\n}\r\n\r\n\r\nexport default PersonInfo;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}