{"ast":null,"code":"import _objectSpread from\"C:/Users/Toshiba/OneDrive/Documents/WEB DEVELOPMENT/BlooduApp/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/Toshiba/OneDrive/Documents/WEB DEVELOPMENT/BlooduApp/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import axios from'axios';import useStyles from'./styles';import{TextField,Typography,Button,Paper,Stack,Alert}from\"@mui/material\";import{useHistory}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CreateRequest=function CreateRequest(_ref){var profile=_ref.profile;var url=profile;var classes=useStyles();var history=useHistory();var user=sessionStorage.getItem('profile');var _useState=useState({bloodGroup:\"\",QtyNeed:\"\",Reason:\"\",timePeriod:\"\",profile:\"\"}),_useState2=_slicedToArray(_useState,2),postData=_useState2[0],setPostData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),alert=_useState4[0],setAlert=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),alertData=_useState6[0],setAlertData=_useState6[1];// {cnic : cnic, bloodGroup: bloodGroup, QtyNeed: QtyNeed, Date : Date, Time : Time, TimePeriod : TimePeriod, Reason : Reason \nvar handleSubmit=function handleSubmit(e){e.preventDefault();// if creating a post \npostData.profile=url;console.log(postData);axios.post('http://localhost:3005/api/Request/create',postData,{headers:{accessToken2:sessionStorage.getItem('accessToken2')}}).then(function(response){if(response.data.error){setAlert(true);setAlertData(response.data.error);}else{console.log(response.data);clear();history.push('/user');}});clear();};var clear=function clear(){setPostData({bloodGroup:\"\",timePeriod:\"\",QtyNeed:\"\",Reason:\"\",profile:\"\"});};return/*#__PURE__*/_jsxs(\"div\",{children:[alert&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Stack,{sx:{width:'100%',marginBottom:'20px'},children:/*#__PURE__*/_jsx(Alert,{onClose:function onClose(){setAlert(false);setAlertData(\"\");},severity:\"error\",children:alertData})})}),/*#__PURE__*/_jsxs(\"form\",{autoComplete:\"off\",validate:\"true\",className:\"\".concat(classes.root,\" \").concat(classes.form),onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Creating a Post\"}),/*#__PURE__*/_jsx(TextField,{name:\"bloodGroup\",variant:\"outlined\",fullWidth:true,label:\"Blood Group\",required:true,value:postData.bloodGroup,onChange:function onChange(e){return setPostData(_objectSpread(_objectSpread({},postData),{},{bloodGroup:e.target.value}));}}),/*#__PURE__*/_jsx(TextField,{name:\"timePeriod\",variant:\"outlined\",fullWidth:true,label:\"Time Period (days)\",required:true,value:postData.timePeriod,onChange:function onChange(e){return setPostData(_objectSpread(_objectSpread({},postData),{},{timePeriod:e.target.value}));}}),/*#__PURE__*/_jsx(TextField,{name:\"QtyNeed\",variant:\"outlined\",fullWidth:true,label:\"Quantity Need\",required:true,value:postData.QtyNeed,onChange:function onChange(e){return setPostData(_objectSpread(_objectSpread({},postData),{},{QtyNeed:e.target.value}));}}),/*#__PURE__*/_jsx(TextField,{name:\"Reason\",variant:\"outlined\",fullWidth:true,label:\"Message\",required:true,multiline:true,rows:4,value:postData.Reason,onChange:function onChange(e){return setPostData(_objectSpread(_objectSpread({},postData),{},{Reason:e.target.value}));}}),/*#__PURE__*/_jsx(Button,{className:classes.buttonSubmit,variant:\"contained \",size:\"large\",type:\"submit\",fullWidth:true,children:\"Post\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",className:classes.buttonClear,size:\"small\",onClick:clear,fullWidth:true,children:\"Clear\"})]})]});};export default CreateRequest;","map":{"version":3,"names":["React","useState","axios","useStyles","TextField","Typography","Button","Paper","Stack","Alert","useHistory","CreateRequest","profile","url","classes","history","user","sessionStorage","getItem","bloodGroup","QtyNeed","Reason","timePeriod","postData","setPostData","alert","setAlert","alertData","setAlertData","handleSubmit","e","preventDefault","console","log","post","headers","accessToken2","then","response","data","error","clear","push","width","marginBottom","root","form","target","value","buttonSubmit","buttonClear"],"sources":["C:/Users/Toshiba/OneDrive/Documents/WEB DEVELOPMENT/BlooduApp/client/src/components/Post/CreateRequest.js"],"sourcesContent":["import React,{useState} from \"react\";\r\nimport axios from 'axios'\r\nimport useStyles from './styles';\r\nimport { TextField, Typography, Button, Paper, Stack, Alert} from \"@mui/material\";\r\nimport {useHistory} from 'react-router-dom';\r\n\r\nconst CreateRequest = ({profile})=>{\r\n  \r\n    const url = profile;\r\n    const classes  = useStyles();\r\n    const history = useHistory();\r\n    const user =  sessionStorage.getItem('profile');\r\n    const [postData, setPostData] = useState({\r\n        bloodGroup:\"\",\r\n        QtyNeed:\"\",\r\n        Reason:\"\",\r\n        timePeriod:\"\",  \r\n        profile:\"\",\r\n    })\r\n    const [alert, setAlert] = useState(false);\r\n    const [alertData, setAlertData] = useState(\"\");\r\n\r\n\r\n    // {cnic : cnic, bloodGroup: bloodGroup, QtyNeed: QtyNeed, Date : Date, Time : Time, TimePeriod : TimePeriod, Reason : Reason \r\n    const handleSubmit = (e)=>{\r\n        e.preventDefault();\r\n\r\n\r\n        // if creating a post \r\n        postData.profile = url;\r\n        console.log(postData);\r\n    \r\n        axios.post('http://localhost:3005/api/Request/create', postData,{\r\n            headers:{\r\n                accessToken2 : sessionStorage.getItem('accessToken2'),\r\n            }\r\n        }).then((response)=>{\r\n            if(response.data.error){\r\n                setAlert(true);\r\n                setAlertData(response.data.error);\r\n            }else{\r\n            console.log(response.data);\r\n                clear();\r\n                history.push('/user');\r\n            }\r\n        })\r\n        clear();\r\n\r\n    }\r\n    const clear = () =>{\r\n        setPostData({\r\n            bloodGroup : \"\",\r\n            timePeriod : \"\",\r\n            QtyNeed:\"\",\r\n            Reason:\"\",\r\n            profile:\"\",\r\n        })\r\n    }\r\n    return (\r\n\r\n        \r\n\r\n        <div>\r\n             {alert && (\r\n               <div>\r\n               <Stack sx={{width:'100%', marginBottom:'20px'}}>\r\n               <Alert onClose={()=>{\r\n                   setAlert(false);\r\n                   setAlertData(\"\");\r\n               }} severity=\"error\">{alertData}\r\n               </Alert>\r\n               </Stack>\r\n               </div>\r\n           )}\r\n       \r\n           \r\n            <form autoComplete=\"off\" validate=\"true\" className={`${classes.root} ${classes.form}`} onSubmit={handleSubmit}>\r\n            {/* {user ? 'Editing' : 'Creating'} a Post */}\r\n            <Typography variant=\"h6\">Creating a Post</Typography>\r\n            <TextField\r\n            name=\"bloodGroup\"\r\n            variant=\"outlined\"\r\n            fullWidth\r\n            label=\"Blood Group\"\r\n            required\r\n            value={postData.bloodGroup}\r\n            onChange={(e) => setPostData({...postData, bloodGroup: e.target.value})}\r\n            \r\n            />\r\n\r\n        <TextField\r\n            name=\"timePeriod\"\r\n            variant=\"outlined\"\r\n            fullWidth\r\n            label=\"Time Period (days)\"\r\n            required\r\n            value={postData.timePeriod}\r\n            onChange={(e) => setPostData({...postData, timePeriod: e.target.value})}\r\n            \r\n            />\r\n\r\n        <TextField\r\n            name=\"QtyNeed\"\r\n            variant=\"outlined\"\r\n            fullWidth\r\n            label=\"Quantity Need\"\r\n            required\r\n            value={postData.QtyNeed}\r\n            onChange={(e) => setPostData({...postData, QtyNeed: e.target.value})}\r\n            \r\n            />\r\n\r\n        <TextField\r\n            name=\"Reason\"\r\n            variant=\"outlined\"\r\n            fullWidth\r\n            label=\"Message\"\r\n            required\r\n            multiline\r\n            rows={4}\r\n            value={postData.Reason}\r\n            onChange={(e) => setPostData({...postData, Reason: e.target.value})}\r\n            \r\n            />\r\n            \r\n            <Button className={classes.buttonSubmit} variant='contained ' size=\"large\" type=\"submit\" fullWidth >Post</Button>\r\n            <Button variant='contained' className={classes.buttonClear} size=\"small\" onClick={clear} fullWidth >Clear</Button>\r\n\r\n            </form>\r\n\r\n\r\n        </div>\r\n    \r\n    );\r\n    \r\n}\r\nexport default CreateRequest;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}