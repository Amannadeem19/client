{"ast":null,"code":"import _slicedToArray from\"C:/Users/Toshiba/OneDrive/Documents/WEB DEVELOPMENT/BlooduApp/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import React,{useState}from\"react\";import{toast}from\"react-toastify\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ReportDonation(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),data2=_useState4[0],setData2=_useState4[1];var generate=function generate(){axios.get('http://localhost:3005/api/Blood/report').then(function(response){if(response.data.error){toast.error(response.data.error);}else{console.log('generate report');console.log(response.data);setData(response.data);var generate2=function generate2(){axios.get('http://localhost:3001/api/Blood/report1').then(function(response){if(response.data.error){toast.error(response.data.error);}else{console.log('generate report2');}});};// ends function\ngenerate2();}});};var generate3=function generate3(req_id){axios.get(\"http://localhost:3001/api/Blood/report2/\".concat(req_id)).then(function(response){if(response.data.error){toast.error(response.data.error);}else{console.log('generate report3');console.log(response.data);setData2(response.data);}});};// ends function3\nreturn/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{id:\"main1\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"heading\",children:/*#__PURE__*/_jsx(\"h1\",{id:\"report-head\",children:\"Report\"})}),/*#__PURE__*/_jsx(\"button\",{id:\"btn-del\",onClick:generate,children:\"Generate\"})]}),data.map(function(val,key){return/*#__PURE__*/_jsx(\"div\",{className:\"requests\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"main2\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Req-Id : \",val.req_id]}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"Blood Group \",val.bloodGroup]}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"Qty Need: \",val.Qtyneed]}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"Qty Given:  \",val.Given]}),/*#__PURE__*/_jsx(\"button\",{id:\"btn-del\",onClick:function onClick(){generate3(val.req_id);},children:\"Status\"}),data2.map(function(val2,key){return/*#__PURE__*/_jsxs(\"h3\",{children:[\"Status : \",val2.status]});})]})})});})]});}export default ReportDonation;","map":{"version":3,"names":["axios","React","useState","toast","ReportDonation","data","setData","data2","setData2","generate","get","then","response","error","console","log","generate2","generate3","req_id","map","val","key","bloodGroup","Qtyneed","Given","val2","status"],"sources":["C:/Users/Toshiba/OneDrive/Documents/WEB DEVELOPMENT/BlooduApp/client/src/components/Donate/ReportDonation.js"],"sourcesContent":["import axios from \"axios\";\r\nimport React, {useState} from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nfunction ReportDonation(){\r\n    const [data, setData] = useState([])\r\n    const [data2, setData2] = useState([])\r\n    \r\n\r\n   const generate = ()=>{\r\n    axios.get('http://localhost:3005/api/Blood/report').then((response)=>{\r\n\r\n        if(response.data.error){\r\n            toast.error(response.data.error)\r\n        }else{\r\n            console.log('generate report');\r\n            console.log(response.data);\r\n            setData(response.data)\r\n            const generate2 = ()=>{\r\n                axios.get('http://localhost:3001/api/Blood/report1').then((response)=>{\r\n            \r\n                    if(response.data.error){\r\n                        toast.error(response.data.error)\r\n                    }else{\r\n                        console.log('generate report2');\r\n                        \r\n                       \r\n                    }\r\n                })\r\n            \r\n               }// ends function\r\n               generate2()\r\n        }\r\n    })\r\n\r\n   }\r\n\r\n   const generate3 = (req_id)=>{\r\n    axios.get(`http://localhost:3001/api/Blood/report2/${req_id}`).then((response)=>{\r\n\r\n        if(response.data.error){\r\n            toast.error(response.data.error)\r\n        }else{\r\n            console.log('generate report3');\r\n            console.log(response.data);\r\n            setData2(response.data)\r\n           \r\n        }\r\n    })\r\n\r\n   }// ends function3\r\n\r\n\r\n    return (\r\n\r\n        <div>        \r\n        <div id=\"main1\">\r\n            <div id=\"heading\">\r\n                <h1 id=\"report-head\">Report</h1>\r\n            </div>\r\n            <button id=\"btn-del\" onClick={generate}>Generate</button>\r\n            \r\n            </div>\r\n        {\r\n            data.map((val,key)=>{\r\n                return (\r\n                    \r\n                    <div className=\"requests\">\r\n                        \r\n                        <div>\r\n                            <div className=\"main2\">\r\n                            <h3>Req-Id : {val.req_id}</h3>\r\n                            <h3>Blood Group {val.bloodGroup}</h3>\r\n                            <h3>Qty Need: {val.Qtyneed}</h3>\r\n                            <h3>Qty Given:  {val.Given}</h3>\r\n                            <button id=\"btn-del\" onClick={()=>{generate3(val.req_id)}}>Status</button>\r\n                            {\r\n                          \r\n                             data2.map((val2, key)=>{\r\n\r\n                                return    <h3>Status : {val2.status}</h3>\r\n                             })\r\n                            }\r\n                           \r\n                           \r\n                            </div>\r\n                           \r\n                        \r\n                        </div>\r\n\r\n                    </div>\r\n                );\r\n            })\r\n        }\r\n       \r\n       \r\n        </div>\r\n\r\n\r\n    \r\n\r\n    );\r\n\r\n\r\n}\r\n\r\nexport default ReportDonation;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}