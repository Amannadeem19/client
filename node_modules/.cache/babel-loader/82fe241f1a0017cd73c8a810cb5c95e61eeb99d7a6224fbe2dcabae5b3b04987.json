{"ast":null,"code":"import _slicedToArray from\"C:/Users/Toshiba/OneDrive/Documents/WEB DEVELOPMENT/BlooduApp/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import axios from'axios';import{Alert,Stack,Button,AppBar,Toolbar,Box,IconButton,Container,Typography,TextField}from'@mui/material';import{useHistory,Link}from\"react-router-dom\";import{toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import HomeRoundedIcon from'@mui/icons-material/HomeRounded';import myimage from'../../images/donationImage.png';import{red}from'@mui/material/colors';import KeyboardDoubleArrowDownIcon from'@mui/icons-material/KeyboardDoubleArrowDown';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function getWindowDimensions(){var _window=window,width=_window.innerWidth,height=_window.innerHeight;return{width:width,height:height};}function LoginP(){console.log(\"login main me aya\");var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),cnic=_useState2[0],setCnic=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),alert=_useState6[0],setAlert=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),alertdata=_useState8[0],setAlertdata=_useState8[1];var history=useHistory();var _useState9=useState(getWindowDimensions()),_useState10=_slicedToArray(_useState9,2),windowDimensions=_useState10[0],setWindowDimensions=_useState10[1];useEffect(function(){function handleResize(){setWindowDimensions(getWindowDimensions());console.log(windowDimensions.width);}window.addEventListener(\"resize\",handleResize);return function(){return window.removeEventListener(\"resize\",handleResize);};},[]);var login=function login(){var data={cnic:cnic,password:password};console.log(data);if(!data.cnic||!data.password){setAlertdata('Please provide email or password');setAlert(true);}axios.post(\"http://localhost:3005/api/authPerson/LoginP\",data).then(function(response){if(response.data.error){setAlertdata(response.data.error);setAlert(true);}else{console.log(response.data);toast.success('Successfully logged in');sessionStorage.setItem(\"accessToken2\",response.data);// after login go to user access functionalities page \nhistory.push(\"/user\");}});};var handleScroll=function handleScroll(){var targetPosition=500;window.scrollTo({top:targetPosition,behavior:\"smooth\"});};return/*#__PURE__*/_jsxs(Box,{sx:{flexGrow:1},children:[/*#__PURE__*/_jsx(AppBar,{style:{backgroundColor:'crimson'},position:\"static\",children:/*#__PURE__*/_jsxs(Toolbar,{children:[/*#__PURE__*/_jsx(IconButton,{size:\"large\",color:\"inherit\",\"aria-label\":\"menu\",sx:{mr:2},onClick:function onClick(){history.push('/user');},children:/*#__PURE__*/_jsx(HomeRoundedIcon,{})}),/*#__PURE__*/_jsx(Typography,{variant:\"h4\",children:\"Bloodu Login\"})]})}),/*#__PURE__*/_jsxs(Container,{style:{display:windowDimensions.width>=850&&'flex',justifyContent:windowDimensions.width>=850&&'space-evenly'},children:[/*#__PURE__*/_jsx(\"div\",{style:{position:'relative'},children:/*#__PURE__*/_jsx(\"img\",{style:{marginRight:'40px',marginTop:'20px',width:windowDimensions.width>=850?'auto':'100%',height:windowDimensions.width>=850?'500px':'700px'},src:myimage,alt:\"donation\"})}),windowDimensions.width<=850&&/*#__PURE__*/_jsx(IconButton,{style:{position:\"absolute\",top:580,right:0,zIndex:1},onClick:handleScroll,children:/*#__PURE__*/_jsx(KeyboardDoubleArrowDownIcon,{style:{height:'50px',width:'50px'}})}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'50px',marginLeft:'100px'},children:[alert&&/*#__PURE__*/_jsx(Stack,{sx:{width:'100%',marginBottom:'20px'},children:/*#__PURE__*/_jsx(Alert,{onClose:function onClose(){setAlert(false);setAlertdata(\"\");history.push('/loginP');},severity:\"error\",children:alertdata})}),/*#__PURE__*/_jsx(TextField,{style:{height:'100px',width:'500px'},name:\"cnic\",variant:\"outlined\",label:\"CNIC\",fullWidth:true,onChange:function onChange(e){return setCnic(e.target.value);}}),/*#__PURE__*/_jsx(TextField,{style:{height:'100px',width:'500px'},name:\"password\",variant:\"outlined\",label:\"Password\",fullWidth:true,type:\"password\",onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",style:{marginTop:'10px',marginRight:'80px',backgroundColor:red[700]},onClick:login,children:\"Login\"})]})]})]});}export default LoginP;","map":{"version":3,"names":["React","useState","useEffect","axios","Alert","Stack","Button","AppBar","Toolbar","Box","IconButton","Container","Typography","TextField","useHistory","Link","toast","HomeRoundedIcon","myimage","red","KeyboardDoubleArrowDownIcon","getWindowDimensions","window","width","innerWidth","height","innerHeight","LoginP","console","log","cnic","setCnic","password","setPassword","alert","setAlert","alertdata","setAlertdata","history","windowDimensions","setWindowDimensions","handleResize","addEventListener","removeEventListener","login","data","post","then","response","error","success","sessionStorage","setItem","push","handleScroll","targetPosition","scrollTo","top","behavior","flexGrow","backgroundColor","mr","display","justifyContent","position","marginRight","marginTop","right","zIndex","marginLeft","marginBottom","e","target","value"],"sources":["C:/Users/Toshiba/OneDrive/Documents/WEB DEVELOPMENT/BlooduApp/client/src/components/LoginUser/LoginP.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from 'axios';\r\nimport {Alert, Stack,Button,  AppBar, Toolbar, Box, IconButton, Container, Typography, TextField} from '@mui/material';\r\nimport { useHistory, Link } from \"react-router-dom\";\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nimport HomeRoundedIcon from '@mui/icons-material/HomeRounded';\r\nimport myimage from '../../images/donationImage.png';\r\nimport {red} from '@mui/material/colors';\r\nimport KeyboardDoubleArrowDownIcon from '@mui/icons-material/KeyboardDoubleArrowDown';\r\n \r\nfunction getWindowDimensions() {\r\n    const { innerWidth: width, innerHeight: height } = window;\r\n    return {\r\n        width,\r\n        height,\r\n    };\r\n}\r\n\r\nfunction LoginP() {\r\n    console.log(\"login main me aya\");\r\n    const [cnic, setCnic] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [alert , setAlert] = useState(false);\r\n    const [alertdata, setAlertdata] = useState(\"\");\r\n    let history = useHistory();\r\n    \r\n\r\n    const [windowDimensions, setWindowDimensions] = useState(\r\n        getWindowDimensions()\r\n    );\r\n\r\n    useEffect(() => {\r\n        function handleResize() {\r\n            setWindowDimensions(getWindowDimensions());\r\n            console.log(windowDimensions.width);\r\n        }\r\n\r\n        window.addEventListener(\"resize\", handleResize);\r\n        return () => window.removeEventListener(\"resize\", handleResize);\r\n    }, []);\r\n    const login = () => {\r\n       \r\n\r\n        const data = { cnic: cnic, password: password }\r\n        console.log(data);\r\n        if (!data.cnic || !data.password) {\r\n            setAlertdata('Please provide email or password')\r\n            setAlert(true);\r\n        }\r\n        axios.post(\"http://localhost:3005/api/authPerson/LoginP\", data).then((response) => {\r\n            if (response.data.error) {\r\n                setAlertdata(response.data.error);\r\n                setAlert(true);\r\n        \r\n            } else {\r\n                console.log(response.data)\r\n                toast.success('Successfully logged in')\r\n                sessionStorage.setItem(\"accessToken2\", response.data)\r\n                // after login go to user access functionalities page \r\n                history.push(\"/user\")\r\n            }\r\n\r\n        })\r\n    }\r\n    const handleScroll = () => {\r\n        const targetPosition = 500;\r\n        window.scrollTo({top: targetPosition, behavior: \"smooth\"});\r\n    }\r\n    return (\r\n\r\n\r\n        <Box sx={{ flexGrow: 1 }}>\r\n\r\n            <AppBar style={{ backgroundColor: 'crimson' }} position=\"static\">\r\n\r\n                <Toolbar>\r\n                    <IconButton\r\n                        size=\"large\"\r\n                    \r\n                        color=\"inherit\"\r\n                        aria-label=\"menu\"\r\n                        sx={{ mr: 2 }}\r\n                        onClick={() => {\r\n                            history.push('/user');\r\n                        }}\r\n                \r\n                    >\r\n                        <HomeRoundedIcon />\r\n                    </IconButton>\r\n                        <Typography variant=\"h4\">\r\n                            Bloodu Login\r\n                        </Typography>\r\n                    </Toolbar>\r\n            </AppBar>\r\n            <Container  style={{display: windowDimensions.width >= 850 && 'flex', justifyContent:  windowDimensions.width >= 850 && 'space-evenly'}}>\r\n        <div style={{position:'relative'}}>\r\n        <img style={{ marginRight:'40px', marginTop:'20px', width:  windowDimensions.width >= 850 ? 'auto' : '100%', height: windowDimensions.width >= 850 ? '500px' : '700px'}} src={myimage} alt=\"donation\" />\r\n        </div>                \r\n        {windowDimensions.width <= 850 && (\r\n                   <IconButton style={{ position: \"absolute\", top: 580, right: 0, zIndex: 1}} onClick={handleScroll}>\r\n                    <KeyboardDoubleArrowDownIcon style={{height:'50px', width:'50px'}} />\r\n                    </IconButton>\r\n                   \r\n                )}\r\n            <div style={{marginTop: '50px', marginLeft:'100px' }}>\r\n            {alert && (\r\n               \r\n                    <Stack sx={{width:'100%', marginBottom:'20px'}}>\r\n                    <Alert onClose={()=>{\r\n                        setAlert(false);\r\n                        setAlertdata(\"\");\r\n                        history.push('/loginP');\r\n                    }} severity=\"error\">{alertdata}</Alert>\r\n                    </Stack>\r\n                 )}\r\n\r\n                <TextField\r\n                    style={{height:'100px', width:'500px'}}\r\n                    name=\"cnic\"\r\n                    variant=\"outlined\"\r\n                    label=\"CNIC\"\r\n                    fullWidth\r\n                    onChange={(e)=>setCnic(e.target.value)}\r\n\r\n                />\r\n\r\n                <TextField\r\n                    style={{height:'100px', width:'500px'}}\r\n                    name=\"password\"\r\n                    variant=\"outlined\"\r\n                    label=\"Password\"\r\n                    fullWidth\r\n                    type=\"password\"\r\n                    onChange={(e)=>setPassword(e.target.value)}\r\n\r\n                />\r\n               \r\n                \r\n                \r\n              \r\n                <Button  variant=\"contained\" style={{marginTop:'10px',marginRight:'80px', backgroundColor: red[700]}} onClick={login}>Login</Button>\r\n          \r\n                </div>\r\n    </Container>\r\n    \r\n    </Box> \r\n    \r\n    )\r\n}\r\n\r\nexport default LoginP;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}