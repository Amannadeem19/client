{"ast":null,"code":"import _slicedToArray from\"C:/Users/Toshiba/OneDrive/Documents/WEB DEVELOPMENT/BlooduApp/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import axios from\"axios\";import Donor from\"./Donor\";import{AppBar,Box,Divider,Grid,IconButton,Toolbar,Typography}from\"@mui/material\";import useStyles from'./styles';import HomeRoundedIcon from'@mui/icons-material/HomeRounded';import{useHistory}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Donors=function Donors(_ref){var id=_ref.id,bank=_ref.bank;var navigate=useHistory();var classes=useStyles();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),donors=_useState2[0],setDonors=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),count=_useState4[0],setCount=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),bottles=_useState6[0],setBottles=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),num=_useState8[0],setNum=_useState8[1];var remaining=0;var key=0;// const [bankName, setbankName] = useState(\"\");\n// if(bank.length > 0){\n//     setbankName(bank);\n// }\nuseEffect(function(){axios.get(\"http://localhost:3005/api/Donation//getDonors/\".concat(id),{headers:{accessToken2:sessionStorage.getItem(\"accessToken2\")}}).then(function(response){if(response.data.error){console.log(response.data.error);}else{console.log(response.data);setDonors(response.data);console.log(donors.length);setCount(response.data.length);}});},[id]);// for finding the bottles that needed by the specific requirement \nuseEffect(function(){axios.get(\"http://localhost:3005/api/Request/myrequests/\".concat(id),{headers:{accessToken2:sessionStorage.getItem(\"accessToken2\")}}).then(function(response){if(response.data.error){console.log(response.data.error);}else{console.log(typeof response.data[0].Qtyneed);setBottles(response.data[0].Qtyneed);}});},[id]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'40px',marginBottom:'30px',borderRadius:'5px',color:'black',height:'150px',width:'90%',textAlign:'center'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",children:\"ID: \"+id}),/*#__PURE__*/_jsx(Typography,{variant:\"h5\",children:\"Total Donations: \"+count}),/*#__PURE__*/_jsx(Typography,{variant:\"h5\",children:\"Qty need: \"+(bottles-count)}),/*#__PURE__*/_jsxs(Typography,{variant:\"h5\",style:{color:bottles-count==0?'green':'crimson'},children:[\" Status:    \",bottles-count==0?'Completed':'Not Completed']}),/*#__PURE__*/_jsx(Divider,{style:{marginTop:'30px',marginLeft:'50px',backgroundColor:'crimson'}})]}),/*#__PURE__*/_jsx(Grid,{style:{marginTop:'30px'},className:classes.mainContainer,container:true,alignItems:\"stretch\",spacing:3,children:donors.map(function(donor){return/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:12,md:6,lg:3,children:/*#__PURE__*/_jsx(Donor,{id:donor===null||donor===void 0?void 0:donor.req_id,cnic:donor===null||donor===void 0?void 0:donor.cnic,count:count,bank:bank})},donor===null||donor===void 0?void 0:donor.cnic);})})]});};export default Donors;","map":{"version":3,"names":["React","useEffect","useState","axios","Donor","AppBar","Box","Divider","Grid","IconButton","Toolbar","Typography","useStyles","HomeRoundedIcon","useHistory","Donors","id","bank","navigate","classes","donors","setDonors","count","setCount","bottles","setBottles","num","setNum","remaining","key","get","headers","accessToken2","sessionStorage","getItem","then","response","data","error","console","log","length","Qtyneed","marginTop","marginBottom","borderRadius","color","height","width","textAlign","marginLeft","backgroundColor","mainContainer","map","donor","req_id","cnic"],"sources":["C:/Users/Toshiba/OneDrive/Documents/WEB DEVELOPMENT/BlooduApp/client/src/components/Donate/Donors.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport Donor from \"./Donor\";\r\nimport { AppBar, Box, Divider, Grid, IconButton, Toolbar, Typography } from \"@mui/material\";\r\nimport useStyles from './styles';\r\nimport HomeRoundedIcon from '@mui/icons-material/HomeRounded';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n\r\nconst Donors = ({id, bank}) =>{\r\n    const navigate = useHistory();\r\n    const classes = useStyles();\r\n    const [donors, setDonors] = useState([]);\r\n    const [count, setCount] = useState(0);\r\n    const [bottles, setBottles] = useState(0);\r\n    const [num, setNum] = useState(0);\r\n    let remaining = 0;\r\n    let key = 0;\r\n    // const [bankName, setbankName] = useState(\"\");\r\n\r\n    // if(bank.length > 0){\r\n    //     setbankName(bank);\r\n    // }\r\n\r\n   \r\n    useEffect(()=>{\r\n\r\n        axios.get(`http://localhost:3005/api/Donation//getDonors/${id}`, {\r\n            headers:{\r\n                accessToken2 : sessionStorage.getItem(\"accessToken2\"),\r\n            }\r\n        }).then((response)=>{\r\n            if(response.data.error){\r\n                console.log(response.data.error);\r\n                \r\n            }else{\r\n                    console.log(response.data);\r\n                    setDonors(response.data);\r\n                    console.log(donors.length);\r\n                    setCount(response.data.length);    \r\n                       \r\n                 }\r\n                 \r\n        })\r\n        \r\n    }, [id])\r\n\r\n    // for finding the bottles that needed by the specific requirement \r\n\r\n    useEffect(()=>{\r\n\r\n        axios.get(`http://localhost:3005/api/Request/myrequests/${id}`, {\r\n            headers:{\r\n                accessToken2 : sessionStorage.getItem(\"accessToken2\"),\r\n            }\r\n        }).then((response)=>{\r\n            if(response.data.error){\r\n                console.log(response.data.error);\r\n                \r\n            }else{\r\n                    console.log(typeof(response.data[0].Qtyneed));\r\n                    setBottles(response.data[0].Qtyneed);\r\n                    \r\n                }\r\n                 \r\n        })\r\n    }, [id])\r\n\r\n    return (\r\n\r\n    <div>\r\n            <div style={{marginTop:'40px',marginBottom:'30px', borderRadius:'5px', color:'black', height:'150px', width:'90%',textAlign:'center'}}>\r\n     \r\n                 <Typography variant=\"h5\">{\"ID: \" + id}</Typography>\r\n                 <Typography variant=\"h5\">{\"Total Donations: \" + count}</Typography>\r\n                 <Typography variant=\"h5\">{\"Qty need: \" + (bottles - count)}</Typography>\r\n                 <Typography variant=\"h5\" style={{color : ((bottles-count)) ==0  ? 'green' : 'crimson' }}> Status:    {((bottles - count) == 0) ? 'Completed' : 'Not Completed' }</Typography>\r\n                <Divider  style={{marginTop:'30px',marginLeft:'50px', backgroundColor:'crimson'}}/>\r\n            </div>\r\n   \r\n        <Grid style={{marginTop:'30px'} }className={classes.mainContainer} container alignItems=\"stretch\" spacing={3}>\r\n                             \r\n        {\r\n            donors.map((donor) => (\r\n            <Grid key={donor?.cnic} item xs={12} sm={12} md={6} lg={3}>\r\n             \r\n              <Donor  id={donor?.req_id} cnic={donor?.cnic} count={count} bank={bank}/>\r\n                    \r\n                \r\n            </Grid>\r\n            ))\r\n        }\r\n        </Grid>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Donors;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}